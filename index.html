<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hospital Login & Registration</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
  @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
/* RESET & BASE */
* {
  box-sizing: border-box; /* This fixes width overflow */
}

body {
  font-family: 'Roboto', sans-serif;
  margin:0;
  background: linear-gradient(135deg, #4e73df, #1cc88a);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:auto;
}

/* CONTAINER */
.container {
  background:#fff;
  padding:40px 30px;
  border-radius:20px;
  box-shadow:0 15px 30px rgba(0,0,0,0.2);
  width:100%;
  max-width:400px; /* Prevents overflowing screen */
  text-align:center;
  position: relative;
  transition: all 0.6s ease;
}

/* HEADER */
h2 {
  margin-bottom:25px;
  color:#4e73df;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-size:24px;
  animation: bounce 1s infinite alternate;
}

/* BOUNCE ANIMATION */
@keyframes bounce {
  from {transform: translateY(0);}
  to {transform: translateY(-5px);}
}

/* INPUT GROUP */
.input-group {
  position: relative;
  margin-bottom: 20px;
  opacity:0;
  transform: translateX(-50px);
  animation: slideIn 0.5s forwards;
}

/* INPUT ICON */
.input-group i {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  color: #4e73df;
  font-size:16px;
}

/* INPUT & SELECT */
input, select {
  width:100%;
  padding:12px 12px 12px 40px; /* Add space for icon */
  border-radius:8px;
  border:1px solid #ccc;
  transition: all 0.3s;
  font-size:14px;
}

input:focus, select:focus {
  border-color:#4e73df;
  outline:none;
  box-shadow:0 0 8px rgba(78,115,223,0.4);
}

/* BUTTON */
button {
  width:100%;
  padding:12px;
  background:#4e73df;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
  transition: all 0.3s;
  margin-top:10px;
}

button:hover {
  background:#2e59d9;
  transform: translateY(-3px);
  box-shadow:0 8px 15px rgba(0,0,0,0.2);
}

/* TOGGLE LINK */
.toggle-link {
  display:block;
  margin-top:15px;
  color:#4e73df;
  text-decoration:none;
  cursor:pointer;
  font-size:14px;
}

.toggle-link:hover { text-decoration:underline; }

/* ANIMATIONS */
@keyframes slideIn {
  from {opacity:0; transform:translateX(-50px);}
  to {opacity:1; transform:translateX(0);}
}

</style>
</head>
<body>

<div class="container" id="formContainer">

  <!-- LOGIN FORM -->
  <div id="loginForm">
    <h2><i class="fa fa-hospital"></i> Login</h2>
    <div class="input-group"><i class="fa fa-user"></i><input type="text" id="loginUsername" placeholder="Username" required></div>
    <div class="input-group"><i class="fa fa-lock"></i><input type="password" id="loginPassword" placeholder="Password" required></div>
    <button id="loginBtn">Login</button>
    <span class="toggle-link" id="showRegister">Don't have an account? Register</span>
  </div>

  <!-- REGISTER FORM -->
  <div id="registerForm" style="display:none;">
    <h2><i class="fa fa-hospital"></i> Register</h2>
    <div class="input-group"><i class="fa fa-user"></i><input type="text" id="fullname" placeholder="Full Name" required></div>
    <div class="input-group"><i class="fa fa-user-circle"></i><input type="text" id="username" placeholder="Username" required></div>
    <div class="input-group"><i class="fa fa-lock"></i><input type="password" id="password" placeholder="Password" required></div>
    <div class="input-group"><i class="fa fa-envelope"></i><input type="email" id="email" placeholder="Email" required></div>
    <div class="input-group"><i class="fa fa-phone"></i><input type="tel" id="phone" placeholder="Phone Number" required></div>
    <div class="input-group"><i class="fa fa-venus-mars"></i>
      <select id="gender" required>
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
    </div>
    <button id="registerBtn">Register</button>
    <span class="toggle-link" id="showLogin">Already have an account? Login</span>
  </div>

</div>

<script>
  // Toggle forms
  const loginFormDiv = document.getElementById('loginForm');
  const registerFormDiv = document.getElementById('registerForm');
  document.getElementById('showRegister').onclick = ()=> {
    loginFormDiv.style.display = 'none';
    registerFormDiv.style.display = 'block';
  }
  document.getElementById('showLogin').onclick = ()=> {
    registerFormDiv.style.display = 'none';
    loginFormDiv.style.display = 'block';
  }

  // REGISTER
  document.getElementById('registerBtn').onclick = () => {
    let fullname = document.getElementById('fullname').value.trim();
    let username = document.getElementById('username').value.trim();
    let password = document.getElementById('password').value.trim();
    let email = document.getElementById('email').value.trim();
    let phone = document.getElementById('phone').value.trim();
    let gender = document.getElementById('gender').value;

    if(!fullname||!username||!password||!email||!phone||!gender){
      alert("Fill all fields");
      return;
    }

    let users = JSON.parse(localStorage.getItem('users') || '[]');
    if(users.find(u=>u.username===username)){
      alert("Username exists!");
      return;
    }

    users.push({fullname, username, password, email, phone, gender});
    localStorage.setItem('users', JSON.stringify(users));
    alert("Registered successfully!");
    registerFormDiv.style.display='none';
    loginFormDiv.style.display='block';
  }

  // LOGIN
  document.getElementById('loginBtn').onclick = () => {
    let username = document.getElementById('loginUsername').value.trim();
    let password = document.getElementById('loginPassword').value.trim();
    if(!username || !password){ alert("Fill all fields"); return; }

    let users = JSON.parse(localStorage.getItem('users') || '[]');
    let user = users.find(u=>u.username===username && u.password===password);

    if(user){
      localStorage.setItem('currentUser', JSON.stringify(user));
      alert("Login successful! Welcome "+user.fullname);
      window.location.href="dashboard.html"; // Replace with Module 1 page
    } else {
      alert("Invalid username or password!");
    }
  }
</script>

</body>
</html>
